{% extends 'base.html.twig' %}

{% block title %}Réinitialiser le mot de passe{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style>
    body{
      background:
        radial-gradient(1200px circle at 10% 10%, rgba(13,110,253,.25), transparent 45%),
        radial-gradient(900px circle at 90% 20%, rgba(32,201,151,.18), transparent 40%),
        #0b1220;
      min-height: 100vh;
    }
    .glass-card{
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 90px rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      border-radius: 18px;
    }
    .form-label{ 
      color: #fff !important; 
      font-weight: 500;
    }
    .form-control{
      background: rgba(255,255,255,.08) !important;
      border: 1px solid rgba(255,255,255,.18) !important;
      color: #fff !important;
      border-radius: 12px;
      padding: .85rem .95rem;
    }
    .form-control::placeholder{ color: rgba(255,255,255,.45); }
    .form-control:focus{
      box-shadow: 0 0 0 .2rem rgba(13,110,253,.25);
      border-color: rgba(13,110,253,.60) !important;
      background: rgba(255,255,255,.12) !important;
      color: #fff !important;
    }
    .invalid-feedback {
      color: #ff6b6b !important;
      display: block;
      font-weight: 500;
      margin-top: 0.5rem;
    }
    .form-control.is-invalid {
      border-color: #ff6b6b !important;
    }
  </style>
{% endblock %}

{% block body %}
<div class="container-fluid d-flex align-items-center justify-content-center" style="min-height: 100vh;">
  <div class="glass-card p-5" style="width: 100%; max-width: 420px;">
    
    <h2 class="text-white mb-4 text-center">Réinitialiser votre mot de passe</h2>
    <p class="text-center mb-4" style="color: rgba(255,255,255,.85);">Entrez votre nouveau mot de passe</p>

    {{ form_start(form) }}
      <div class="mb-3">
        {{ form_label(form.plainPassword.first) }}
        {{ form_widget(form.plainPassword.first) }}
        {{ form_errors(form.plainPassword.first) }}
      </div>

      <div class="mb-3">
        {{ form_label(form.plainPassword.second) }}
        {{ form_widget(form.plainPassword.second) }}
        {{ form_errors(form.plainPassword.second) }}
      </div>

      <div>
        {{ form_errors(form.plainPassword) }}
      </div>

      {{ form_widget(form.submit) }}
    {{ form_end(form) }}

    <div class="text-center mt-4">
      <p style="color: rgba(255,255,255,.80);">
        <a href="{{ path('app_login') }}" class="text-decoration-none" style="color: #0d6efd;">Retour à la connexion</a>
      </p>
    </div>

  </div>
</div>
{% endblock %}
